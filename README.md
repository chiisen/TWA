# TWA
Trusted Web Activity - TWA 就是讓網頁程式偽裝成原生 App，讓使用者感覺不到差別。

## 2. 前置需求 (Prerequisites)
在開始之前，請確保開發環境已安裝以下工具：

*   **Node.js**: 版本 12 或以上 (建議使用 LTS 版本)。
*   **Java Development Kit (JDK)**: 版本 8 或 11。
*   **Android Studio**: 用於安裝 **Android SDK** 和管理 **Android Virtual Device (AVD)** (模擬器)。
*   **Bubblewrap CLI**: Google 官方提供的 TWA 生成工具。

### 安裝 Bubblewrap CLI
在終端機 (Terminal) 執行以下指令：
- Node.js 22
```bash
npm install -g @bubblewrap/cli
```

### 步驟一：初始化專案 (Initialize Project)

1.  建立一個新的資料夾用於存放 Android 專案檔案。
2.  在該資料夾中開啟終端機。
3.  執行初始化指令，並指定網頁的 **Web App Manifest** URL：

```bash
cd android-app

bubblewrap init --manifest https://ai-temple.vercel.app/manifest.json
```
- 執行過程中，請依序回答問題：

1. Install JDK?: 輸入 Y (或直接按 Enter)。
2. Install Android SDK?: 輸入 Y (或直接按 Enter)。
3. Review licenses?: 輸入 Y，閱讀後按 y 接受所有條款。
4. App Details:
    - 大部分選項 Bubblewrap 會從 manifest.json 自動抓取，您可以直接按 Enter 使用預設值。
    - Application ID: 確認為 com.aitemple.twa (或您喜歡的 ID)。
    - KeyStore: 如果詢問是否建立 KeyStore，請回答 Y，並設定一組密碼 (請記住此密碼)。
完成後，請告訴我，我將協助您進行下一步（建置 APK 與設定 assetlinks.json）。

- 安裝畫面
```bash
❯ bubblewrap init --manifest https://ai-temple.vercel.app/manifest.json
,-----.        ,--.  ,--.  ,--.
|  |) /_,--.,--|  |-.|  |-.|  |,---.,--.   ,--,--.--.,--,--.,---.
|  .-.  |  ||  | .-. | .-. |  | .-. |  |.'.|  |  .--' ,-.  | .-. |
|  '--' '  ''  | `-' | `-' |  \   --|   .'.   |  |  \ '-'  | '-' '
`------' `----' `---' `---'`--'`----'--'   '--`--'   `--`--|  |-'
                                                           `--'
? Do you want Bubblewrap to install the JDK (recommended)?
  (Enter "No" to use your own JDK 17 installation) Yes
Downloading the JDK 17 Sources...
 >> [████████████████████████████████████████] 100% | 174793k of 174783k
Decompressing the JDK 17 Sources...
Downloading the JDK 17 Binaries...
 >> [████████████████████████████████████████] 100% | 181543k of 181543k
Decompressing the JDK 17 Binaries...
? Do you want Bubblewrap to install the Android SDK (recommended)?
  (Enter "No" to use your own Android SDK installation) Yes
  ? Do you agree to the Android SDK terms and conditions at https://developer.android.com/studio/terms.html? Yes
Downloading Android SDK to C:\Users\chiis\.bubblewrap\android_sdk
Downloading the Android SDK...
 >> [████████████████████████████████████████] 100% | 84490k of 76751k
Decompressing the Android SDK...
Initializing application from Web Manifest:
        -  https://ai-temple.vercel.app/manifest.json
WARNING: Trusted Web Activities are currently incompatible with applications
targeting children under the age of 13. Check out the Play for Families
policies to learn more.
https://play.google.com/console/about/families/

Web app details (1/5)

The application generated by Bubblewrap will open a Progressive Web App when
started from the Android launcher. Please enter the following details about
the PWA:

        - Domain: the domain / origin where the PWA is hosted.
          Example: example.com

        - URL path: an URL path relative to the root of the origin,
          opened when the application is started from the home screen.
          Examples:

                - To open https://example.com/: /
                - To open https://example.com/path-to-pwa/: /path-to-pwa/

? Domain: (ai-temple.vercel.app) 
```


